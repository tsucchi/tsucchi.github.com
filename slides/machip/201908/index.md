最近のお話
---

[@tsucchi](http://twitter.com/tsucchi)


自己紹介
---
+ 土田　拓也(つちだ　たくや)
+ [@tsucchi](http://twitter.com/tsucchi) とか [blog(http://tsucchi.github.io/)](http://tsucchi.github.io/)とか
    + <img src="./icon.jpeg"> こんなかんじのアイコンです
    + `Perl` と `ミルキィホームズ`が好きです。最近は [Re:ステージ！](https://rst-anime.com/)にハマっています

+ [株式会社シャノン](http://shanon-tech.blogspot.jp/)というところで、エンジニアやってます
    + 2019年5月から正式にSREグループに
    + 稼働率とかパフォーマンスとかセキュリティのこと考えたり
    + Perl とか SQL とか書いたり

今回の内容
---
+ 最近のお話

SRE
---
+ 稼働率
+ パフォーマンス
+ セキュリティ

稼働率
---
+ 稼働率のある程度は運
    + 機器障害の発生率はコントロールできない
	+ コントロール可能なのは、障害検知と復旧だけ

障害検知
---
+ 監視の強化
    + サービス、ホスト、ミドルウェア、傾向監視
+ 通知の改善
    + メール -> slackに。severity が高いものはメンションつけたりとか

復旧
---
+ RDSのバックアップなどを整える
+ 実際の復旧訓練はこれから...

その他
---
+ アプリ的に弱い部分を直す(のをこれからやらないと...)
    + 例) API叩きまくってるのをバルク化するとかサーキットブレーカー入れるとか...

パフォーマンス
---
+ レスポンス時間や遅いSQLなどから地道にログを見てバグ登録
+ パフォーマンスバグを地道に修正
+ 最近はキャッシュできそうなものを一通り memcached にぶち込んでいる感じ

セキュリティ
---
+ AWS Inspector の結果を見てパッチ当て運用(を始める)
+ AWS GuardDuty から通知(怪しいことしたらすぐに見つける)
+ 脆弱性スキャナの運用とか
+ セキュリティバグの修正

その他
---
+ 「ヒヤリハット」みたいなのがまあまああるので、直したり監視増やしたり...
+ 他にも色々やってた気もするのだけど、忘れました...
+ [こいつのせい](https://support.shanon.co.jp/hc/ja/articles/360034095113-2019-08-07-%E5%BE%A9%E6%97%A7-%E6%96%AD%E7%B6%9A%E7%9A%84%E3%81%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%8C%E4%B8%8D%E5%AE%89%E5%AE%9A%E3%81%AA%E7%8F%BE%E8%B1%A1%E3%81%8C%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%97%E3%81%9F-)

まとめ
---
+ 難しいことは一つもやってないと思う
+ 監視もパフォーマンスバグの修正も一応やってはいた
+ けど、今までは片手間にしかやってなくて、ちゃんとやり切れてなかった
+ 専門の組織を作るってのは時には必要なんだな、と思った

おしまい
===
